function responsive_resize(){var t=$(window).width();768>t?$("body").addClass("_xs").removeClass("_sm").removeClass("_md").removeClass("_lg"):t>767&&992>t?$("body").addClass("_sm").removeClass("_xs").removeClass("_md").removeClass("_lg"):t>991&&1200>t?$("body").addClass("_md").removeClass("_xs").removeClass("_sm").removeClass("_lg"):t>1199&&$("body").addClass("_lg").removeClass("_xs").removeClass("_sm").removeClass("_md")}$(function(){Periodicals.init(),Tooltip.init(),Ticker.init(),Item.init(),Calendar.init(),Poll.init(),Slider.init(),Carousel.init(),Slideshow.init(),Itemlist.init(),PanelRequests.init(),Live.init(),Frequencies.init(),Comments.init(),Search.init(),Select.init(),$(window).scroll(function(){$(window).scrollTop()>300?$(".totop").stop().fadeIn("slow"):$(".totop").stop().fadeOut("slow")}),$(".totop a").click(function(t){$("html, body").animate({scrollTop:0},700),t.preventDefault()}),$(".filter-scroll").on("click","a",function(t){$("html, body").animate({scrollTop:$("#"+this.href.split("#")[1]).offset().top},"slow"),t.preventDefault()}),$(".nano").length&&($(".nano").nanoScroller({flash:!0,preventPageScrolling:!0,tabIndex:0}),$(".panel.timeline select").on("change",function(){var t=$(this).find("option:selected").val();$("#timeline-inner-content > div").hide(1),$("#timeline-inner-content").find(".item-"+t).show(1)}),$(".enlarge-map").on("click",function(t){$(".backdrop").fadeIn(300),$(".map").delay(150).fadeIn(300),t.preventDefault()}),$(".map .close, .backdrop").on("click",function(t){$(".backdrop").fadeOut(300),$(".map").fadeOut(300),t.preventDefault()})),$("#menu-toggle").click(function(t){($("body").hasClass("_xs")||$("body").hasClass("_sm"))&&($("#menu ul").is(":visible")?$("#menu ul").slideUp():$("#menu ul").slideDown(),t.preventDefault())}),$("#menu .haschild > a").on("click",function(t){if($("body").hasClass("_xs")||$("body").hasClass("_sm")){var e=$(this).parent().find(".child");e.is(":visible")?e.slideUp():e.slideDown(),t.preventDefault()}}),responsive_resize()}),$(window).resize(function(){responsive_resize()});var Periodicals={init:function(){-1===window.location.hostname.indexOf("localhost")&&Periodicals.reload()},reload:function(){setInterval(function(){var t=window.location.pathname;"/"==t&&location.reload()},12e4)}},Search={init:function(){var t=$("#menu li.search");t.on("click","a",function(e){t.hasClass("active")||($(".search-form").animate({width:196},function(){t.addClass("active"),$(".search-form").find("input").focus()}),e.preventDefault())}),$("#menu .search-form").find("input").focusout(function(){$(".search-form").animate({width:"0"},function(){t.removeClass("active")})}),$(".show-advanced").on("click",function(t){$(".advanced").slideDown(),t.preventDefault()})}},Item={init:function(){Item.Media.slideshow(),Item.setFontSize(),Item.fontResizer()},Media:{slideshow:function(){$(".item-media").each(function(){$(this).find("ul").length&&($slideshow=$(this).find("ul"),$slideshow.find("li").length>1?$slideshow.carouFredSel({auto:!1,items:1,scroll:{fx:"crossfade",items:1},next:$slideshow.parent().find(".next"),prev:$slideshow.parent().find(".prev")}):$(".item-media .carousel-control").addClass("hide"))})}},fontResizer:function(){$(".font-resizer").length&&$(".font-resizer").on("click","a",function(t){var e=parseInt($("#item p:first").css("font-size")),i=parseInt(Item.getFontSize());switch($(this).attr("class")){case"larger":23>e&&$("#item p").css({"font-size":e+2});break;case"reset":$("#item p").css({"font-size":i});break;case"smaller":e>5&&$("#item p").css({"font-size":e-2})}t.preventDefault()})},setFontSize:function(t){if($(".font-resizer").length&&("undefined"==typeof t||""===t)&&(t=Item.getFontSize(),"undefined"==typeof t||""===t)){var t=$("#item p:first").css("font-size");$("#item").attr("data-font-size",t)}},getFontSize:function(){return $("#item").attr("data-font-size")}},Frequencies={init:function(){$("#frequencies").length&&$("#frequencies").delegate(".items-tags a","click",function(t){var e=$("#frequencies").find("img.overlay");$("#frequencies").find(".items-tags li").removeClass("active"),$(this).parent().addClass("active"),console.log($(this).attr("data-src")),e.attr("src",$(this).attr("data-src")),t.preventDefault()})}},Comments={init:function(){$(".item-comments form").length&&($(".comment-form-body").on("submit",function(t){return Comments.submit($(this),t),!1}),$(".comment-reply ").delegate("a","click",function(t){Comments.reply($(this),t)}),$(".cancel-reply").on("click",function(t){Comments.cancelReply(t)}),$("a.vote").on("click",function(t){Comments.vote($(this),t)}))},submit:function(t){$.ajax({url:t.attr("action"),type:"post",data:t.serialize(),success:function(){$("#comment-alert").slideToggle("fast",function(){setTimeout(function(){$("#comment-alert").slideToggle("fast")},5e3)}),$("#comment-form").find("input[name=Parent_Id]").val(0),t.find("textarea").val("")}})},vote:function(t,e){var i="CommentId="+t.parents("li:first").attr("data-id")+"&Up=";i+="up"===t.attr("data-type")?1:0,$.ajax({url:"/callback.asmx/CommentsVote",data:i,success:function(e){Comments.updateVotes(t,e)}}),e.preventDefault()},updateVotes:function(t,e){return t.parent().find(".rate-count").text(e),!0},load:function(){},reply:function(t,e){$("#comment-form").find("input[name=Parent_Id]").val(t.attr("data-id")),$(".active-reply").slideToggle("fast").find("strong").text(t.parents("li:first").find("span.name:first").text()),e.preventDefault()},cancelReply:function(t){$("#comment-form").find("input[name=Parent_Id]").val(0),$(".active-reply").slideUp("fast").find("strong").text(""),t.preventDefault()}},Select={init:function(){$("[data-type=select]").select(),Select.initWeatherSelect()},initWeatherSelect:function(){$(document).on("change","#weather [data-type=select]",function(){var t=(parseInt($(this).find("option:selected").val()),$("#weather > .inner > div")),e=$(this).find("option:selected").index();t.not(".choose-location").fadeOut().addClass("hide"),t.eq(e).removeClass("hide").fadeIn()}).on("focusout",$("#weather > .inner > div .choose-location"),function(){})}};$.fn.select=function(){return this.each(function(){var t=$(this),e={attribs:{id:$(this).attr("id"),name:$(this).attr("name"),placeholder:$(this).attr("data-placeholder")}},i="",n='<div class="select-box" data-id="#{id}" data-name="{name}"><a class="select-handler" data-bind="#{id}">{placeholder}</a><ul class="items" style="display: none;">{items}</ul></div>',s='<li data-val="{val}"><a href="#">{title}</a></li>';$.each(t.find("option"),function(){i+=s.replace(/{val}/g,$(this).attr("value")).replace(/{title}/g,$(this).text())});var a=n.replace(/{id}/g,e.attribs.id).replace(/{name}/g,e.attribs.name).replace(/{items}/g,i).replace(/{placeholder}/g,e.attribs.placeholder);t.children().length&&(t.before(a),t.css({display:"none"}),$(document).on("click",".select-handler",function(t){var e=$(this).parent().find("ul");e.hasClass("open")?e.removeClass("open").hide():e.addClass("open").show(),t.preventDefault()}).mouseup(function(t){var e=$("#weather > .inner > .choose-location");if(!e.is(t.target)&&0===e.has(t.target).length){var e=e.find("ul");e.hasClass("open")&&e.removeClass("open").hide()}}),$(document).on("click",".select-box .items a",function(t){var e=$(this).parent().attr("data-val"),i=$(this).parents(".select-box").parent().find("select:first");i.val(e).change(),t.preventDefault()}))})};var Live={init:function(){},clearMediaplayer:function(){return $("#mediaplayer").empty(),!0},playerHtml5:function(){$(".live-links").find("li").removeClass("active"),$(".live-links").find("a[data-type=html5]").parent().addClass("active");var t=$("#live-page").attr("data-hls-url"),e='<video class="img" controls autoplay poster="'+$("#inpPlayback").attr("data-placeholder")+'"><source src="'+t+'" type="application/x-mpegURL"></video>';$("#mediaplayer").html(e)},playerFlash:function(){$(".live-links").find("li").removeClass("active"),$(".live-links").find("a[data-type=flash]").parent().addClass("active"),jwplayer("mediaplayer").setup({playlist:[{image:$("#inpPlayback").attr("data-placeholder"),sources:[{file:"/Views/Assets/player/live.smil"}]}],height:576,autostart:!0,startparam:"start",width:"100%",primary:"flash",skin:"/Views/Assets/player/six.xml",stretching:"uniform"})}},Carousel={init:function(){$(".panel.carousel").length&&$(".panel.carousel").each(function(){var t=$(this);Carousel.createCarousel(t)})},createCarousel:function(t){if("undefined"!=typeof t){t.find("span.total").text(t.find("li.item").length);{var e=t.find(".carousel-control");imagesLoaded(t,function(){t.find("ul").carouFredSel({items:1,auto:!1,next:e.find(".next"),direction:"up",prev:e.find(".prev"),scroll:{onBefore:function(){var e=t.find("ul:first").triggerHandler("currentPosition");t.find("span.current").text(e+1)}}})})}}}},Slider={init:function(t){if("undefined"!=typeof t){var e=t;window.setTimeout(function(){imagesLoaded(e,function(){Slider.createSlider(e)})},200)}else $(".panel.slider").length&&$(".panel.slider").each(function(){var t=$(this);Slider.createSlider(t)})},createSlider:function(t){if("undefined"!=typeof t){var e=t.find(".carousel-control"),i="undefined"!=typeof t.attr("id")?t.attr("id"):!1,n=t.hasClass("slider-wide")?4:3,s="undefined"!=typeof t.find("ul").attr("data-auto")&&"false"===t.find("ul").attr("data-auto")?!1:{items:1,timeoutDuration:6e3,pauseOnHover:!0};imagesLoaded(t,function(){t.find("ul").carouFredSel({items:n,auto:s,responsive:!0,scroll:{items:1,onAfter:function(){if(i){var t=$(this).find("li:first"),e={title:t.find("span.title").text(),introtext:t.find("p.introtext").text(),introtext:t.find("p.introtext").text(),categoryTitle:t.find(".section").text(),categoryLink:t.find(".section a").attr("href"),link:t.find(".inner > a").attr("href"),image:t.find(".inner > a img").attr("src").replace("_m.jpg","_xl.jpg"),hasVideo:t.find(".inner .img").hasClass("video")?!0:!1};Slider.changeTopNews(e)}}},next:e.find(".next"),prev:e.find(".prev")})})}},changeTopNews:function(t){var e=$(".panel.top-news");e.find("img").attr("src",t.image).attr("alt",t.title),t.hasVideo?e.find(".img").addClass("video"):e.find(".img").removeClass("video"),e.find("a").attr("href",t.link),e.find("h2 a").text(t.title),e.find("p").text(t.introtext),e.find(".section a").attr("href",t.categoryLink).text(t.categoryTitle)}},Slideshow={init:function(){if($("#slideshow .gallery").length){var t=$(".slideshow.gallery");$(".slideshow.gallery").find("span.total").text(t.find("li.item").length),t.find("ul:first").carouFredSel({items:1,next:t.find(".next"),prev:t.find(".prev"),auto:{play:7e3},responsive:!0,scroll:{fx:"crossfade",onBefore:function(){var e=t.find("ul:first").triggerHandler("currentPosition");$(".slideshow.gallery").find("span.current").text(e+1)}}})}}},Itemlist={init:function(){$(".load-more").on("click",".more a",function(t){Itemlist.prepareLoad(),t.preventDefault()}),$("#itemlist").length&&$(window).scroll(function(){$("body").hasClass("_xs")||$("body").hasClass("_sm")||parseInt($("#itemlist").attr("data-tries"))<5&&$(window).scrollTop()>=$(document).height()-$(window).height()-100&&Itemlist.prepareLoad()})},prepareLoad:function(t){var e=$("#itemlist"),i=JSON.parse(e.attr("data-params")),n=parseInt(e.attr("data-count")),s=e.attr("data-template");0===parseInt(e.attr("data-offset"))&&e.attr("data-offset",parseInt(i.count)+parseInt(e.attr("data-offset")));var a=parseInt(e.attr("data-offset"));i.count=n,i.offset=a,i.viewPath=s,Itemlist.load(i,e),"undefined"!=typeof t&&t.preventDefault()},load:function(t,e){e.attr("data-offset",parseInt(e.attr("data-offset"))+t.count),e.hasClass("loading")||(e.addClass("loading"),$.ajax({url:"/callback.asmx/ContentsList",data:decodeURIComponent($.param(t)),success:function(t){e.find(".itemlist .panel-body > ul").append(t);var i="undefined"==typeof e.attr("data-tries")?0:parseInt(e.attr("data-tries"));e.attr("data-tries",i+1),e.removeClass("loading")}}))}},Ticker={init:function(){$("#ticker .titles ul").length&&$("#ticker .titles ul").find("li").length>1&&setInterval(function(){Ticker.tick()},3e3)},tick:function(){$("#ticker .titles ul").each(function(){var t=$(this);t.find("li:first").slideUp(function(){t.find("li").eq(1).hasClass("breaking")?$("#ticker").find(".header").addClass("breaking").find("span").text($("#ticker").attr("data-breaking-title")):$("#ticker").find(".header").removeClass("breaking").find("span").text($("#ticker").attr("data-latest-title")),$(this).appendTo(t).slideDown()})})}},PanelRequests={popularUrl:"/callback.asmx/ContentsMostViewed?range={range}",init:function(){$(".panel.item-pick").on("click",".categories a",function(t){var e=$(this);PanelRequests.prepareItemPicker(e),t.preventDefault()}),$(".panel.title-tabs.itemlist").on("click",".nav-tabs a",function(t){var e=$(this);"undefined"==typeof e.attr("data-type")?PanelRequests.prepareLoadLatest(e):"popular"===e.attr("data-type")&&PanelRequests.loadPopular(e),t.preventDefault()}),$(".panel.tabs.has-request").on("click",".nav-tabs a",function(t){var e=$(this);PanelRequests.prepareLoadMediaItems(e),t.preventDefault()}),$(".sub-tabs li").on("click","a",function(t){$(".sub-tabs li").removeClass("active"),$(this).parents().addClass("active"),$(".sub-tab-content > div").fadeOut("fast"),""===$($(this).attr("href")).find("ul").html()?PanelRequests.loadPopular($(this),$($(this).attr("href")),!0):($(this),$($(this).attr("href")).fadeIn()),t.preventDefault()})},prepareLoadMediaItems:function(t){var e=$(t.attr("href"));if(!e.children().length){var i="undefined"!=typeof t.attr("data-catid")&&t.attr("data-catid")?!1:!0,n=t.attr("data-catid"),s=t.attr("data-kind"),a=JSON.parse(t.parents(".panel:first").attr("data-params")),r=t.parents(".panel:first").attr("data-template");a.viewPath=r;var o="content";i?(a.kind=s,o="media"):a.categories=n,PanelRequests.loadMediaItems(a,e,o)}},loadMediaItems:function(t,e,i){switch(i){default:case"content":url="/callback.asmx/ContentsList";break;case"media":url="/callback.asmx/ProgramsList"}$.ajax({url:url,data:decodeURIComponent($.param(t)),success:function(t){e.html(t),e.find(".panel").hasClass("slider")&&Slider.init(e)}})},prepareLoadLatest:function(t){var e=$(t.attr("href"));if(!e.find("ul li").length){var i=t.attr("data-catid"),n=JSON.parse(t.attr("data-params")),s=t.attr("data-template");n.viewPath=s,n.categories=i,PanelRequests.loadLatest(n,e)}},loadLatest:function(t,e){$.ajax({url:"/callback.asmx/ContentsList",data:decodeURIComponent($.param(t)),success:function(t){e.find("ul").html(t)}})},prepareItemPicker:function(t){t.parents("ul:first").find("li").removeClass("active"),t.parent().addClass("active");var e=t.parents(".itempicker"),i=t.parents(".panel:first"),n=t.attr("data-catid"),s=JSON.parse(i.attr("data-params")),a=i.attr("data-template");s.viewPath=a,s.categories=n,PanelRequests.loadItemPicker(n,s,e)},loadItemPicker:function(t,e,i){$.ajax({url:"/callback.asmx/ContentsList",data:decodeURIComponent($.param(e)),success:function(t){var e=$("<div />").append(t).find(".first-item").html(),n=$("<div />").append(t).find(".more-items").html(),s=$("<div />").append(t).find(".more").attr("href");i.find(".item").html(e),i.find(".itemlist.thumb ul").html(n),i.find(".itemlist.thumb .more").attr("href",s)}})},loadPopular:function(t,e,i){if("undefined"!=typeof i&&i===!0){var n=t.attr("data-time"),s=PanelRequests.popularUrl.replace(/{range}/,n);$.ajax({url:s,success:function(t){e.find("ul").html(t),e.fadeIn("fast")}})}else{var a=t.parents(".panel").find(t.attr("data-load")),r=$(a.find("li.active a").attr("href"));if(""===r.find("ul").html()){var n=a.find("li.active a").attr("data-time"),s=PanelRequests.popularUrl.replace(/{range}/,n);a.find(".sub-tab-content div").fadeOut(),$.ajax({url:s,success:function(t){r.find("ul").html(t),r.fadeIn("fast")}})}else a.find(".sub-tab-content div").fadeOut(),r.fadeIn("fast")}}},Calendar={init:function(){$(".calendar").length&&$(".calendar").datepicker({language:"az"}),$(".datepicker").length&&$(".datepicker").datepicker({language:"az"})}},Tooltip={init:function(){$(".has-tip").length&&$(".has-tip").tooltip()}},Poll={init:function(){if($(".panel.poll").length)if("voted"===Cookie.check()){$(".panel.poll").find("a[data-task=submit]").hide(1);var t=$("#poll").find("form:first");$.ajax({url:t.attr("action").replace("insertPoll","GetPoll"),data:t.serialize(),success:function(e){var i=t.parent();i.empty(),e=JSON.parse(e),i.html(Poll.showResults(e))}})}else $(".panel.poll").delegate("a[data-task=submit]","click",function(t){var e=$(this).parents("form:first");Poll.submit(e),t.preventDefault()})},submit:function(t){var e=t.serialize(),i=t.attr("action"),n=t.attr("method");$.ajax({url:i,data:e,type:n,success:function(e){var i=t.parent();i.empty(),e=JSON.parse(e),i.html(Poll.showResults(e)),Cookie.set("voted")}})},showResults:function(t){var e=0,i="Gracias!";return t.ShowResult&&(i='<ul class="">',"undefined"!=typeof t.Polls_Options&&t.Polls_Options&&($.each(t.Polls_Options,function(t,i){e+=i.SelectedCount}),$.each(t.Polls_Options,function(n,s){i+="<li>"+s.Title;var a=100*s.SelectedCount/e;i+=" %"+Math.round(a),t.ShowValues&&(i+=" - ("+s.SelectedCount+") "),i+='<div class="percent"><div class="bar" style="width: '+Math.round(a)+'%"></div></div>',i+="</li>"}),i+="</ul>",t.ShowTotal&&(i+='<div class="total">Total votes: <strong>'+e+"</strong></div>"))),i}},Cookie={lifetime:600,title:"htvCookie=",init:function(){},check:function(){return Cookie.get(Cookie.title)},parse:function(t){return"undefined"!=typeof t?t:!1},"delete":function(t){if("undefined"==typeof t)var t=Cookie.title;var e="Thu, 01 Jan 1970 00:00:01 GMT";document.cookie=t+"; "+e+"; path=/"},set:function(t){var e=Cookie.title,i=new Date;i.setTime(i.getTime()+1e3*Cookie.lifetime);var n="expires="+i.toGMTString();return document.cookie=e+t+"; "+n+"; path=/",t},get:function(t){if("undefined"==typeof t)var t=Cookie.title;for(var e=document.cookie.split(";"),i=0;i<e.length;i++){var n=e[i].trim();if(0===n.indexOf(t))return Cookie.parse(n.substring(t.length,n.length))}return""}};!function(t,e,i,n){t.fn.lazy=function(s){"use strict";function a(){if(b=e.devicePixelRatio>1,null!==v.defaultImage||null!==v.placeholder)for(var i=0;i<g.length;i++){var n=t(g[i]);null===v.defaultImage||n.attr("src")||n.attr("src",v.defaultImage),null===v.placeholder||n.css("background-image")&&"none"!=n.css("background-image")||n.css("background-image","url("+v.placeholder+")")}v.delay>=0&&setTimeout(function(){r(!0)},v.delay),(v.delay<0||v.combined)&&(r(!1),m(function(){t(v.appendScroll).bind("scroll",d(v.throttle,function(){m(function(){r(!1)},this,!0)}))},this),m(function(){t(v.appendScroll).bind("resize",d(v.throttle,function(){w=D=-1,m(function(){r(!1)},this,!0)}))},this))}function r(e){if(g.length){for(var i=!1,n=0;n<g.length;n++)!function(){var s=g[n],a=t(s);if(l(s)||e){var r=s.tagName.toLowerCase();!a.attr(v.attribute)||!("img"==r&&a.attr(v.attribute)!=a.attr("src")||"img"!=r&&a.attr(v.attribute)!=a.css("background-image"))||a.data(v.handledName)||!a.is(":visible")&&v.visibleOnly||(i=!0,a.data(v.handledName,!0),m(function(){o(a,r)},this))}}();i&&m(function(){g=t(g).filter(function(){return!t(this).data(v.handledName)})},this)}}function o(i,n){var s=t(new Image);++y,s.error(v.onError?function(){f(v.onError,i),u()}:function(){u()});var a=!1;s.one("load",function(){var t=function(){return a?(i.hide(),"img"==n?i.attr("src",s.attr("src")):i.css("background-image","url("+s.attr("src")+")"),i[v.effect](v.effectTime),v.removeAttribute&&(i.removeAttr(v.attribute),i.removeAttr(v.retinaAttribute)),f(v.afterLoad,i),s.unbind("load").remove(),void u()):void e.setTimeout(t,100)};t()}),f(v.beforeLoad,i),s.attr("src",i.attr(b&&i.attr(v.retinaAttribute)?v.retinaAttribute:v.attribute)),f(v.onLoad,i),a=!0,s.complete&&s.load()}function l(t){var e=h(),i=c(),n=t.getBoundingClientRect(),s=i+v.threshold>n.top&&-v.threshold<n.bottom,a=e+v.threshold>n.left&&-v.threshold<n.right;return"vertical"==v.scrollDirection?s:"horizontal"==v.scrollDirection?a:s&&a}function h(){return w>=0?w:w=e.innerWidth||i.documentElement.clientWidth||i.body.clientWidth||i.body.offsetWidth||v.fallbackWidth}function c(){return D>=0?D:D=e.innerHeight||i.documentElement.clientHeight||i.body.clientHeight||i.body.offsetHeight||v.fallbackHeight}function d(t,e){function i(){function i(){a=+new Date,e.apply(n)}var r=+new Date-a;s&&clearTimeout(s),r>t||!v.enableThrottle?i():s=setTimeout(i,t-r)}var s,a=0;return i}function u(){--y,g.size()||y||f(v.onFinishedAll,null)}function f(t,e){t&&(e?m(function(){t(e)},this):m(t,this))}function p(){k=setTimeout(function(){m(),C.length&&p()},2)}function m(t,i,n){if(t)return v.enableQueueing?((!n||n&&!$)&&(C.push([t,i,n]),n&&($=!0)),void(1==C.length&&p())):void t.call(i||e);var s=C.shift();s&&(s[2]&&($=!1),s[0].call(s[1]||e))}var v={bind:"load",threshold:500,fallbackWidth:2e3,fallbackHeight:2e3,visibleOnly:!1,appendScroll:e,scrollDirection:"both",defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",retinaAttribute:"data-retina",removeAttribute:!0,handledName:"handled",effect:"show",effectTime:0,enableThrottle:!1,throttle:250,enableQueueing:!0,beforeLoad:null,onLoad:null,afterLoad:null,onError:null,onFinishedAll:null},g=this,y=0,w=-1,D=-1,b=!1,k=null,C=[],$=!1;return function(){s&&t.extend(v,s),v.onError&&g.each(function(){var e=this;m(function(){t(e).bind("error",function(){f(v.onError,t(this))})},e)}),"load"==v.bind?t(e).load(a):"event"==v.bind&&a()}(),this},t.fn.Lazy=t.fn.lazy}(jQuery,window,document),$("img.lazy").lazy({combined:!0,delay:1e3}),function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function s(t){return function(){return this[t].apply(this,arguments)}}function a(e,i){function n(t,e){return e.toLowerCase()}var s,a=t(e).data(),r={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in a)i.test(l)&&(s=l.replace(o,n),r[s]=a[l]);return r}function r(e){var i={};if(p[e]||(e=e.split("-")[0],p[e])){var n=p[e];return t.each(f,function(t,e){e in n&&(i[e]=n[e])}),i}}var o=t(window),l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,n=this.length;n>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new l;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this.dates=new l,this.viewDate=n(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),n=i.language;switch(p[n]||(n=n.split("-")[0],p[n]||(n=u.language)),i.language=n,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate=i.multidate!==!1?Math.max(0,i.multidate):1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var s=m.parseFormat(i.format);i.startDate!==-1/0&&(i.startDate=i.startDate?i.startDate instanceof Date?this._local_to_utc(this._zero_time(i.startDate)):m.parseDate(i.startDate,s,i.language):-1/0),1/0!==i.endDate&&(i.endDate=i.endDate?i.endDate instanceof Date?this._local_to_utc(this._zero_time(i.endDate)):m.parseDate(i.endDate,s,i.language):1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var a=String(i.orientation).toLowerCase().split(/\s+/g),r=i.orientation.toLowerCase();if(a=t.grep(a,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},r&&"auto"!==r)if(1===a.length)switch(a[0]){case"top":case"bottom":i.orientation.y=a[0];break;case"left":case"right":i.orientation.x=a[0]}else r=t.grep(a,function(t){return/^left|right$/.test(t)}),i.orientation.x=r[0]||"auto",r=t.grep(a,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=r[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,n,s,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(n=e,s=t[a][1]):3===t[a].length&&(n=t[a][1],s=t[a][2]),i.on(s,n)},_unapplyEvents:function(t){for(var i,n,s,a=0;a<t.length;a++)i=t[a][0],2===t[a].length?(s=e,n=t[a][1]):3===t[a].length&&(s=t[a][1],n=t[a][2]),i.off(n,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var n=i||this.dates.get(-1),s=this._utc_to_local(n);this.element.trigger({type:e,date:s,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(i){i===e&&(i=this.o.format);var n=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,n)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),n=10,s=o.width(),a=o.height(),r=o.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),u=h.left,f=h.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(u-=e-d)):(this.picker.addClass("datepicker-orient-left"),h.left<0?u-=h.left-n:h.left+e>s&&(u=s-e-n));var p,m,v=this.o.orientation.y;"auto"===v&&(p=-r+h.top-i,m=r+a-(h.top+c+i),v=Math.max(p,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=c:f-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:f,left:u,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],n=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),n=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),n?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()
}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+p[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+p[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<s?i.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>s)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===a.getFullYear()&&e.getUTCMonth()===a.getMonth()&&e.getUTCDate()===a.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var n,s=new Date(this.viewDate),a=s.getUTCFullYear(),r=s.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,h=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,d=p[this.o.language].today||p.en.today||"",u=p[this.o.language].clear||p.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(p[this.o.language].months[r]+" "+a),this.picker.find("tfoot th.today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(u).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var f=i(a,r-1,28),v=m.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(v),f.setUTCDate(v-(f.getUTCDay()-this.o.weekStart+7)%7);var g=new Date(f);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var y,w=[];f.valueOf()<g;){if(f.getUTCDay()===this.o.weekStart&&(w.push("<tr>"),this.o.calendarWeeks)){var D=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),b=new Date(Number(D)+(11-D.getUTCDay())%7*864e5),k=new Date(Number(k=i(b.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),C=(b-k)/864e5/7+1;w.push('<td class="cw">'+C+"</td>")}if(y=this.getClassNames(f),y.push("day"),this.o.beforeShowDay!==t.noop){var $=this.o.beforeShowDay(this._utc_to_local(f));$===e?$={}:"boolean"==typeof $?$={enabled:$}:"string"==typeof $&&($={classes:$}),$.enabled===!1&&y.push("disabled"),$.classes&&(y=y.concat($.classes.split(/\s+/))),$.tooltip&&(n=$.tooltip)}y=t.unique(y),w.push('<td class="'+y.join(" ")+'"'+(n?' title="'+n+'"':"")+">"+f.getUTCDate()+"</td>"),f.getUTCDay()===this.o.weekEnd&&w.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(w.join(""));var T=this.picker.find(".datepicker-months").find("th:eq(1)").text(a).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===a&&T.eq(e.getUTCMonth()).addClass("active")}),(o>a||a>h)&&T.addClass("disabled"),a===o&&T.slice(0,l).addClass("disabled"),a===h&&T.slice(c+1).addClass("disabled"),w="",a=10*parseInt(a/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(a+"-"+(a+9)).end().find("td");a-=1;for(var _,x=t.map(this.dates,function(t){return t.getUTCFullYear()}),M=-1;11>M;M++)_=["year"],-1===M?_.push("old"):10===M&&_.push("new"),-1!==t.inArray(a,x)&&_.push("active"),(o>a||a>h)&&_.push("disabled"),w+='<span class="'+_.join(" ")+'">'+a+"</span>",a+=1;S.html(w)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(e){e.preventDefault();var n,s,a,r=t(e.target).closest("span, td, th");if(1===r.length)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===r[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(l,h);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":r.is(".disabled")||(this.viewDate.setUTCDate(1),r.is(".month")?(a=1,s=r.parent().find("span").index(r),n=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(n,s,a))):(a=1,s=0,n=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(n),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(n,s,a))),this.showMode(-1),this.fill());break;case"td":r.is(".day")&&!r.is(".disabled")&&(a=parseInt(r.text(),10)||1,n=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r.is(".old")?0===s?(s=11,n-=1):s-=1:r.is(".new")&&(11===s?(s=0,n+=1):s+=1),this._setDate(i(n,s,a)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var n,s,a=new Date(t.valueOf()),r=a.getUTCDate(),o=a.getUTCMonth(),l=Math.abs(i);if(i=i>0?1:-1,1===l)s=-1===i?function(){return a.getUTCMonth()===o}:function(){return a.getUTCMonth()!==n},n=o+i,a.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var h=0;l>h;h++)a=this.moveMonth(a,i);n=a.getUTCMonth(),a.setUTCDate(r),s=function(){return n!==a.getUTCMonth()}}for(;s();)a.setUTCDate(--r),a.setUTCMonth(n);return a},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,s,a=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+e),s=new Date(r),s.setUTCDate(r.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||n(),e),s=this.moveYear(r,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||n(),e),s=this.moveMonth(r,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||n()),i.setUTCDate(i.getUTCDate()+7*e),s=new Date(r),s.setUTCDate(r.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:r=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(r),a=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(a){this._trigger(this.dates.length?"changeDate":"clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),n=i.getUTCDate(),s=t.inArray(e.target,this.inputs),a=this.inputs.length;if(-1!==s){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(n)}),n<this.dates[s])for(;s>=0&&n<this.dates[s];)this.pickers[s--].setUTCDate(n);else if(n>this.dates[s])for(;a>s&&n>this.dates[s];)this.pickers[s++].setUTCDate(n);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker;t.fn.datepicker=function(i){var n=Array.apply(null,arguments);n.shift();var s;return this.each(function(){var o=t(this),l=o.data("datepicker"),d="object"==typeof i&&i;if(!l){var f=a(this,"date"),p=t.extend({},u,f,d),m=r(p.language),v=t.extend({},u,m,f,d);if(o.is(".input-daterange")||v.inputs){var g={inputs:v.inputs||o.find("input").toArray()};o.data("datepicker",l=new c(this,t.extend(v,g)))}else o.data("datepicker",l=new h(this,v))}return"string"==typeof i&&"function"==typeof l[i]&&(s=l[i].apply(l,n),s!==e)?!1:void 0}),s!==e?s:this};var u=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var p=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(n,s,a){function r(){var t=this.slice(0,u[c].length),e=u[c].slice(0,t.length);return t===e}if(!n)return e;if(n instanceof Date)return n;"string"==typeof s&&(s=m.parseFormat(s));var o,l,c,d=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){for(n=new Date,c=0;c<u.length;c++)switch(o=d.exec(u[c]),l=parseInt(o[1]),o[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=h.prototype.moveMonth.call(h.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+7*l);break;case"y":n=h.prototype.moveYear.call(h.prototype,n,l)}return i(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}u=n&&n.match(this.nonpunctuation)||[],n=new Date;var f,v,g={},y=["yyyy","yy","M","MM","m","mm","d","dd"],w={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};w.M=w.MM=w.mm=w.m,w.dd=w.d,n=i(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var D=s.parts.slice();if(u.length!==D.length&&(D=t(D).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),u.length===D.length){var b;for(c=0,b=D.length;b>c;c++){if(f=parseInt(u[c],10),o=D[c],isNaN(f))switch(o){case"MM":v=t(p[a].months).filter(r),f=t.inArray(v[0],p[a].months)+1;break;case"M":v=t(p[a].monthsShort).filter(r),f=t.inArray(v[0],p[a].monthsShort)+1}g[o]=f}var k,C;for(c=0;c<y.length;c++)C=y[c],C in g&&!isNaN(g[C])&&(k=new Date(n),w[C](k,g[C]),isNaN(k)||(n=k))}return n},formatDate:function(e,i,n){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var s={d:e.getUTCDate(),D:p[n].daysShort[e.getUTCDay()],DD:p[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:p[n].monthsShort[e.getUTCMonth()],MM:p[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,e=[];for(var a=t.extend([],i.separators),r=0,o=i.parts.length;o>=r;r++)a.length&&e.push(a.shift()),e.push(s[i.parts[r]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t){t.fn.datepicker.dates.es={days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],daysShort:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb","Dom"],daysMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa","Do"],months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],today:"Hoy"}}(jQuery),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,s=this,a=s.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if("object"==typeof t){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;t.length>e;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,s=this.getListenersAsObject(t),a="object"==typeof i;for(n in s)s.hasOwnProperty(n)&&-1===e(s[n],i)&&s[n].push(a?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,s,a=this.getListenersAsObject(t);for(s in a)a.hasOwnProperty(s)&&(n=e(a[s],i),-1!==n&&a[s].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,s,a=t?this.removeListener:this.addListener,r=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)a.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(s=e[n])&&("function"==typeof s?a.call(this,n,s):r.call(this,n,s));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if("object"===i)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,s,a,r=this.getListenersAsObject(t);for(s in r)if(r.hasOwnProperty(s))for(n=r[s].length;n--;)i=r[s][n],i.once===!0&&this.removeListener(t,i.listener),a=i.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return s.EventEmitter=a,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var s=function(){};i.removeEventListener?s=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(s=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var a={bind:n,unbind:s};"function"==typeof define&&define.amd?define("eventie/eventie",a):t.eventie=a}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function s(t){return"[object Array]"===u.call(t)}function a(t){var e=[];if(s(t))e=t;else if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function r(t,e,i){if(!(this instanceof r))return new r(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=a(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),h&&(this.jqDeferred=new h.Deferred);var s=this;setTimeout(function(){s.check()})}function o(t){this.img=t}function l(t){this.src=t,f[t]=this}var h=t.jQuery,c=t.console,d=void 0!==c,u=Object.prototype.toString;r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var s=i.querySelectorAll("img"),a=0,r=s.length;r>a;a++){var o=s[a];this.addImage(o)}}},r.prototype.addImage=function(t){var e=new o(t);this.images.push(e)},r.prototype.check=function(){function t(t,s){return e.options.debug&&d&&c.log("confirm",t,s),e.progress(t),i++,i===n&&e.complete(),!0}var e=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var s=0;n>s;s++){var a=this.images[s];a.on("confirm",t),a.check()}},r.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},r.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},h&&(h.fn.imagesLoaded=function(t,e){var i=new r(this,t,e);return i.jqDeferred.promise(h(this))}),o.prototype=new e,o.prototype.check=function(){var t=f[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},o.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var f={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},r}),!function(t){return"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):t(jQuery,window,document)}(function(t,e,i){"use strict";var n,s,a,r,o,l,h,c,d,u,f,p,m,v,g,y,w,D,b,k,C,$,T,S,_,x,M,U,A,E,I;T={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null},D="scrollbar",w="scroll",d="mousedown",u="mouseenter",f="mousemove",m="mousewheel",p="mouseup",y="resize",o="drag",l="enter",k="up",g="panedown",a="DOMMouseScroll",r="down",C="wheel",h="keydown",c="keyup",b="touchmove",n="Microsoft Internet Explorer"===e.navigator.appName&&/msie 7./i.test(e.navigator.appVersion)&&e.ActiveXObject,s=null,M=e.requestAnimationFrame,$=e.cancelAnimationFrame,A=i.createElement("div").style,I=function(){var t,e,i,n,s,a;for(n=["t","webkitT","MozT","msT","OT"],t=s=0,a=n.length;a>s;t=++s)if(i=n[t],e=n[t]+"ransform",e in A)return n[t].substr(0,n[t].length-1);return!1}(),E=function(t){return I===!1?!1:""===I?t:I+t.charAt(0).toUpperCase()+t.substr(1)},U=E("transform"),_=U!==!1,S=function(){var t,e,n;return t=i.createElement("div"),e=t.style,e.position="absolute",e.width="100px",e.height="100px",e.overflow=w,e.top="-9999px",i.body.appendChild(t),n=t.offsetWidth-t.clientWidth,i.body.removeChild(t),n},x=function(){var t,i,n;return i=e.navigator.userAgent,(t=/(?=.+Mac OS X)(?=.+Firefox)/.test(i))?(n=/Firefox\/\d{2}\./.exec(i),n&&(n=n[0].replace(/\D+/g,"")),t&&+n>23):!1},v=function(){function h(n,a){this.el=n,this.options=a,s||(s=S()),this.$el=t(this.el),this.doc=t(this.options.documentContext||i),this.win=t(this.options.windowContext||e),this.body=this.doc.find("body"),this.$content=this.$el.children("."+a.contentClass),this.$content.attr("tabindex",this.options.tabIndex||0),this.content=this.$content[0],this.previousPosition=0,this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate(),this.createEvents(),this.addEvents(),this.reset()}return h.prototype.preventScrolling=function(t,e){if(this.isActive)if(t.type===a)(e===r&&t.originalEvent.detail>0||e===k&&t.originalEvent.detail<0)&&t.preventDefault();else if(t.type===m){if(!t.originalEvent||!t.originalEvent.wheelDelta)return;(e===r&&t.originalEvent.wheelDelta<0||e===k&&t.originalEvent.wheelDelta>0)&&t.preventDefault()}},h.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"}),this.iOSNativeScrolling=!0,this.isActive=!0},h.prototype.updateScrollValues=function(){var t,e;t=this.content,this.maxScrollTop=t.scrollHeight-t.clientHeight,this.prevScrollTop=this.contentScrollTop||0,this.contentScrollTop=t.scrollTop,e=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same",this.previousPosition=this.contentScrollTop,"same"!==e&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:e}),this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)},h.prototype.setOnScrollStyles=function(){var t;_?(t={},t[U]="translate(0, "+this.sliderTop+"px)"):t={top:this.sliderTop},M?($&&this.scrollRAF&&$(this.scrollRAF),this.scrollRAF=M(function(e){return function(){return e.scrollRAF=null,e.slider.css(t)}}(this))):this.slider.css(t)},h.prototype.createEvents=function(){this.events={down:function(t){return function(e){return t.isBeingDragged=!0,t.offsetY=e.pageY-t.slider.offset().top,t.slider.is(e.target)||(t.offsetY=0),t.pane.addClass("active"),t.doc.bind(f,t.events[o]).bind(p,t.events[k]),t.body.bind(u,t.events[l]),!1}}(this),drag:function(t){return function(e){return t.sliderY=e.pageY-t.$el.offset().top-t.paneTop-(t.offsetY||.5*t.sliderHeight),t.scroll(),t.contentScrollTop>=t.maxScrollTop&&t.prevScrollTop!==t.maxScrollTop?t.$el.trigger("scrollend"):0===t.contentScrollTop&&0!==t.prevScrollTop&&t.$el.trigger("scrolltop"),!1}}(this),up:function(t){return function(){return t.isBeingDragged=!1,t.pane.removeClass("active"),t.doc.unbind(f,t.events[o]).unbind(p,t.events[k]),t.body.unbind(u,t.events[l]),!1}}(this),resize:function(t){return function(){t.reset()}}(this),panedown:function(t){return function(e){return t.sliderY=(e.offsetY||e.originalEvent.layerY)-.5*t.sliderHeight,t.scroll(),t.events.down(e),!1}}(this),scroll:function(t){return function(e){t.updateScrollValues(),t.isBeingDragged||(t.iOSNativeScrolling||(t.sliderY=t.sliderTop,t.setOnScrollStyles()),null!=e&&(t.contentScrollTop>=t.maxScrollTop?(t.options.preventPageScrolling&&t.preventScrolling(e,r),t.prevScrollTop!==t.maxScrollTop&&t.$el.trigger("scrollend")):0===t.contentScrollTop&&(t.options.preventPageScrolling&&t.preventScrolling(e,k),0!==t.prevScrollTop&&t.$el.trigger("scrolltop"))))}}(this),wheel:function(t){return function(e){var i;return null!=e?(i=e.delta||e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail||e.originalEvent&&-e.originalEvent.detail,i&&(t.sliderY+=-i/3),t.scroll(),!1):void 0}}(this),enter:function(t){return function(e){var i;return t.isBeingDragged&&1!==(e.buttons||e.which)?(i=t.events)[k].apply(i,arguments):void 0}}(this)}},h.prototype.addEvents=function(){var t;this.removeEvents(),t=this.events,this.options.disableResize||this.win.bind(y,t[y]),this.iOSNativeScrolling||(this.slider.bind(d,t[r]),this.pane.bind(d,t[g]).bind(""+m+" "+a,t[C])),this.$content.bind(""+w+" "+m+" "+a+" "+b,t[w])},h.prototype.removeEvents=function(){var t;t=this.events,this.win.unbind(y,t[y]),this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind()),this.$content.unbind(""+w+" "+m+" "+a+" "+b,t[w])},h.prototype.generate=function(){var t,i,n,a,r,o,l;return a=this.options,o=a.paneClass,l=a.sliderClass,t=a.contentClass,(r=this.$el.children("."+o)).length||r.children("."+l).length||this.$el.append('<div class="'+o+'"><div class="'+l+'" /></div>'),this.pane=this.$el.children("."+o),this.slider=this.pane.find("."+l),0===s&&x()?(n=e.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,""),i={right:-14,paddingRight:+n+14}):s&&(i={right:-s},this.$el.addClass("has-scrollbar")),null!=i&&this.$content.css(i),this},h.prototype.restore=function(){this.stopped=!1,this.iOSNativeScrolling||this.pane.show(),this.addEvents()},h.prototype.reset=function(){var t,e,i,a,r,o,l,h,c,d,u,f;return this.iOSNativeScrolling?void(this.contentHeight=this.content.scrollHeight):(this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),t=this.content,a=t.style,r=a.overflowY,n&&this.$content.css({height:this.$content.height()}),e=t.scrollHeight+s,d=parseInt(this.$el.css("max-height"),10),d>0&&(this.$el.height(""),this.$el.height(t.scrollHeight>d?d:t.scrollHeight)),l=this.pane.outerHeight(!1),c=parseInt(this.pane.css("top"),10),o=parseInt(this.pane.css("bottom"),10),h=l+c+o,f=Math.round(h/e*h),f<this.options.sliderMinHeight?f=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&f>this.options.sliderMaxHeight&&(f=this.options.sliderMaxHeight),r===w&&a.overflowX!==w&&(f+=s),this.maxSliderTop=h-f,this.contentHeight=e,this.paneHeight=l,this.paneOuterHeight=h,this.sliderHeight=f,this.paneTop=c,this.slider.height(f),this.events.scroll(),this.pane.show(),this.isActive=!0,t.scrollHeight===t.clientHeight||this.pane.outerHeight(!0)>=t.scrollHeight&&r!==w?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===t.scrollHeight&&r===w?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?1:"",visibility:this.options.alwaysVisible?"visible":""}),i=this.$content.css("position"),("static"===i||"relative"===i)&&(u=parseInt(this.$content.css("right"),10),u&&this.$content.css({right:"",marginRight:u})),this)},h.prototype.scroll=function(){return this.isActive?(this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),this):void 0},h.prototype.scrollBottom=function(t){return this.isActive?(this.$content.scrollTop(this.contentHeight-this.$content.height()-t).trigger(m),this.stop().restore(),this):void 0},h.prototype.scrollTop=function(t){return this.isActive?(this.$content.scrollTop(+t).trigger(m),this.stop().restore(),this):void 0
},h.prototype.scrollTo=function(t){return this.isActive?(this.scrollTop(this.$el.find(t).get(0).offsetTop),this):void 0},h.prototype.stop=function(){return $&&this.scrollRAF&&($(this.scrollRAF),this.scrollRAF=null),this.stopped=!0,this.removeEvents(),this.iOSNativeScrolling||this.pane.hide(),this},h.prototype.destroy=function(){return this.stopped||this.stop(),!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove(),n&&this.$content.height(""),this.$content.removeAttr("tabindex"),this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""})),this},h.prototype.flash=function(){return!this.iOSNativeScrolling&&this.isActive?(this.reset(),this.pane.addClass("flashed"),setTimeout(function(t){return function(){t.pane.removeClass("flashed")}}(this),this.options.flashDelay),this):void 0},h}(),t.fn.nanoScroller=function(e){return this.each(function(){var i,n;if((n=this.nanoscroller)||(i=t.extend({},T,e),this.nanoscroller=n=new v(this,i)),e&&"object"==typeof e){if(t.extend(n.options,e),null!=e.scrollBottom)return n.scrollBottom(e.scrollBottom);if(null!=e.scrollTop)return n.scrollTop(e.scrollTop);if(e.scrollTo)return n.scrollTo(e.scrollTo);if("bottom"===e.scroll)return n.scrollBottom(0);if("top"===e.scroll)return n.scrollTop(0);if(e.scroll&&e.scroll instanceof t)return n.scrollTo(e.scroll);if(e.stop)return n.stop();if(e.destroy)return n.destroy();if(e.flash)return n.flash()}return n.reset()})},t.fn.nanoScroller.Constructor=v});
